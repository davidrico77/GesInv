<!--

    This file is part of proyecto-gi.

    proyecto-gi is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    proyecto-gi is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with proyecto-gi.  If not, see <http://www.gnu.org/licenses/>.

-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<div th:include="menus"></div>
<div id="page-wrapper">
			<div class="row">
				<div class="col-lg-12">
					<h1 class="page-header">Proyectos</h1>
				</div>
				<!-- /.col-lg-12 -->
			</div>
			<!-- /.row -->
			<div class="row">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-heading">Listado de Proyectos
						
						
						</div>
						<!-- /.panel-heading -->
						<div class="panel-body">
							<div class="dataTable_wrapper">
								<table class="table table-striped table-bordered table-hover"
									id="dataTables-example">
									<thead>
										<tr>
											<th>Titulo</th>
											<th>Referencia</th>
											<th>Numero de Contabilidad</th>
											<th>Numero de Investigadores</th>
											<th>Duracion</th>
											<th>Editar</th>

										</tr>
									</thead>
									<tbody>
										<tr th:each="proyecto : ${proyectos}">
											<td>
												<a
													th:href="@{'/proyectos/{id}/' (id=${proyecto.id})}"
													th:text="${proyecto.titulo}">
												</a>
											</td>
											<td th:text="${proyecto.referencia}"></td>
											<td th:text="${proyecto.numContabilidad}"></td>
											<td th:text="${proyecto.investigadores.size()}"></td>
											<td th:text="${proyecto.duracion}"></td>
											<td> 
												<a th:if="${#authorization.expression('hasRole(''ROLE_GESTOR'')')}" th:href="@{'edit/proyectos/{id}/' (id=${proyecto.id})} ">  Editar </a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
					<div class="col-md-12" th:if="${#authorization.expression('hasRole(''ROLE_GESTOR'')')}">
						<form role="form" action="#"  th:action="@{/crearProyecto}"  method="GET">
							<button class="btn btn-success" type="submit">AÃ±adir Proyecto</button>
						</form>
						
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	

<div th:include="scripts"></div>
</body>
</html>


